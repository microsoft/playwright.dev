---
id: traces-and-screenshots
title: Traces and Screenshots
description: Guidance on saving traces, specifying output directories, and other debugging tips for Playwright MCP.
---
# Traces and Screenshots

## Overview

When working with Playwright MCP, it's often helpful to save traces and other output artifacts for debugging and analysis such as screenshots and PDFs.

These settings are useful for development, troubleshooting, and saving artifacts from your sessions.

### Saving a Trace of the Session

The Playwright MCP can record a detailed trace of the session, which is invaluable for debugging. Use the `--save-trace` flag to enable this feature. The trace file will be saved in the `.playwright-mcp` directory.

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": [
        "@playwright/mcp@latest",
        "--save-trace"
      ]
    }
  }
}
```

Open the saved trace (must be zipped before viewing or sharing):

1. Locate the trace folder under `.playwright-mcp/` (e.g. `.playwright-mcp/trace-<timestamp>`).
2. Zip it and rename it to `trace.zip`, and then launch the Trace Viewer:
  ```bash
  npx playwright show-trace trace.zip
  ```


## Screenshots

Playwright can capture screenshots of the current page via the MCP server. Ask the agent to navigate to a page and save a screenshot with an optional filename. If omitted, a timestamped name like `page-<timestamp>.png` is used.

Typical flow:
1. Navigate to the page and wait for the UI to load (network idle, images and fonts loaded).
2. Optionally set viewport and expand sections you want visible.
3. Save a screenshot.

### Example Prompt full page screenshot

```bash
Navigate to playwright.dev and take a screenshot and save it as playwright.png
```

### Example Prompt partial screenshot

```bash
navigate to playwright.dev and find the footer and take a screenshot of it
```

## PDF Generation

PDF generation is an opt-in capability that lets the agent render the current page to a PDF file which is useful for creating print-friendly versions of web content.

### Enable the capability

Add the `--caps=pdf` argument to your Playwright MCP server configuration, for example in your `mcp.json` file:

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": [
        "@playwright/mcp@latest", 
        "--caps=pdf"
      ]
    }
  }
}
```

### Example Prompt pdf generation

```bash
navigate to playwright.dev, wait for images to load and save the page as a PDF named "mcp-test.pdf".
```

## Setting the Output Directory

By default the generated PDF is written to the MCP server's artifacts location. If you set `--output-dir` the file will be written there; otherwise the server may use a default like `.playwright-mcp/`.

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": [
        "@playwright/mcp@latest",
        "--output-dir",
        "full/path/to/output/folder"
      ]
    }
  }
}
```

## Agents on CI

Agents on CI are great because they can run unattended, on a schedule, and at scale. This is perfect for tasks like:
-   Automated testing
-   Data extraction
-   Monitoring web pages for changes
-   Filling out forms or submitting data
-   Generating reports
However, running agents on CI comes with its own set of challenges. Here are some tips to help you get started.

## Headless Mode

By default, Playwright MCP launches a headed browser so you can see the automation happen. For CI/CD environments or when a visible UI is not needed, you can run in headless mode using the `--headless` flag.

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": [
        "@playwright/mcp@latest",
        "--headless"
      ]
    }
  }
}
```
## CI tips

- Use `--output-dir` to collect traces and artifacts for failing runs.
- use `--save-traces` to capture traces for all runs.
- Pin browser versions or run `npx playwright install` in CI to ensure browsers are available.


## Using a Configuration File

You can specify a path to a configuration file using the `--config` flag. This allows you to manage your settings in a separate file.

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": [
        "@playwright/mcp@latest",
        "--config",
        "path/to/your/config.json"
      ]
    }
  }
}
```

config.json example:

```json
{
  "browser": {
    "browserName": "edge",
    "isolated": true,
    "launchOptions": { "headless": true },
    "contextOptions": { "viewport": { "width": 1280, "height": 720 } }
  },
  "server": { "host": "0.0.0.0", "port": 8931 },
  "capabilities": ["verify", "pdf"],
  "network": { "allowedOrigins": ["https://example.com"], "blockedOrigins": ["https://tracker.example"] },
  "imageResponses": "omit",
  "outputDir": "./mcp-output"
}
```

Check the [Playwright MCP README](https://github.com/microsoft/playwright-mcp?tab=readme-ov-file#configuration-file) for details on the configuration file format and options.


